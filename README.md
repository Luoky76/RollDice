# RollDice
##  实现功能

- 能跟附近的人一起游戏
- 实现了人机 AI 功能
- 能快速得到游戏结果
- 能对游戏结果进行排名



##  重点难点

&emsp;1.如何为单人模式提供一个舒适的游戏环境.。玩游戏重要的是自由，所以这里我们增加了游戏的的自由度。为此我们允许玩家可选择游戏人数（1~8），自由为每名玩家命名，自由设置人机。同时为了方便命名，我们提供了一个较庞大的已有名字库，以方便玩家随机生成玩家名，同时可自由选择头像。并且自动地为玩家生成结果，使玩家在不大了解规则的前提下也可以很快地上手这个游戏。

&emsp;2.要制作一个什么样的页面。我们选择制作一个一目了然的页面。KISS 原则是让产品的设计越简单越好，任何没必要的复杂都是需要避免的。为此我们为按钮设置合适的反馈，增加当前轮到哪名玩家的友好提示，设置友好的反馈动画效果，通过一些小细节提高了游戏的可玩性。

&emsp;3.如何实现多人联机游戏。让玩家自由选择加入房间或是创建房间。先是只实现局域网内的联机游戏，免除设置服务器，由创建房间的玩家充当服务器，局域网内的其他玩家需要加入房间时，自动在局域网内广播寻找对应房间，加入到游戏当中。











## 收获

&emsp;1.在编写玩家窗口时耗时较长，主要是为了在玩家窗口内集成头像、名字和玩家模式三个功能模块。同时为正在投掷骰子的角色添加了一个简单的「呼吸灯」特效。有争论过使用何种特效来反映当前玩家的轮次，例如为每个玩家头像额外新创建一个亮度更高的图片，以此来区别玩家的空闲状态和激励状态，但考虑到修改图片成本较高，而且假如后期添加新的玩家头像图片，还需要再次创建，因此改为了一个更为泛用而简单的「呼吸灯」特效。

&emsp;2.关于联机的实现方法的争论，我们一共提出了三种联机方案：第一种为设立服务器，保持服务器始终运行，服务器负责生成一切必要的游戏数据并发送给客户端，并由服务器记录每名玩家的ip地址方便进行房间的创建和同一个房间内玩家的信息交换。第二种为不设立服务器，而是只设置一个云端的数据库，玩家创建或是加入房间只需将自己的ip地址发往数据库。游戏数据的生成由房主负责，房主也将游戏数据上传至数据库，其他玩家只需从数据库处下载游戏数据即可。第三种为既不设立服务器，也不设置云端的数据库，但只允许同一局域网内玩家的联机。综合考虑到一起玩博饼的一般都不会相隔太远，再加上成本和实现难度的考虑，最终选择了第三种方法。

&emsp;3.在编码时处理窗口内各个部件之间的信号交流时费时较多，要实现一个用户友好的界面需要特别繁杂的信号机制。同时，为了使类的实例化更为合理，我们在一些类运用了单例模式，既避免了部分窗口的多次创建，也避免了出现部分 bug。
